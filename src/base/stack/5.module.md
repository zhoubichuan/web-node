---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 五.module 和 npm

## 1.js 模块化的不足

- JS 没有模块系统，不支持封闭的作用域和依赖管理
- 没有标准库，没有文件系统和 io 流 api
- 没有包管理系统

## 2.CommonJS 规范
- 封装功能
- 封装作用域
- 可能解决依赖问题
- 工作效率更高，重构方便

## 3.Node 中的 CommonJS
- 在node.js里，模块划分所有的功能，每个JS都是一个模块
- 实现require方法，npm实现了模块的自动加载和安装依赖
```js
(function(exports,require,module,__filename,__dirname){
  exports = module.exports={}
  exports.name = 'zfpx';
  exports = {name:'zfpx'};
  return module.exports;
})
```
## 4.模块分类
### 4.1 原生模块
`http`、`path`、`fs`、`util`、`events`编译成二进制，加载速度最快，原来模块通过名称加载
### 4.2 文件模块
在硬盘的某个位置，加载速度非常慢，文件模块通过名称或路径来加载文件模块的后缀有三种
- 后缀名为.js的JavaScript脚本文件，需要先读入内存再运行
- 后缀名为.json的JSON文件，fs读入内存转化为JSON对象
- 后缀名为.node的经过编译后的二进制C/C++扩展模块文件，可以直接使用
::: tip 提示
一般自己写的通过路径来加载，别人写的通过名称去当前目录或全局node_modules下面去找
:::
### 4.3 第三方模块
- 如果require函数只指定名称则视为node_modules下面加载文件，这样的话可以移动模块而不需要修改引用的模块路径
- 第三方模块查询包括module.paths和全局目录
## 5.外部访问内部

## 6.模块对象属性

## 7.包

## 8.npm

## 9.yarn
